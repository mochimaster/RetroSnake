<html> 
    <body> 
    <canvas width="800" height="600" id="canvas"></canvas> 
        <script> 
        var canvas = document.getElementById('canvas'); 
        var c = canvas.getContext('2d'); 

       // shim layer with setTimeout fallback 
        window.requestAnimFrame = (function () {
            return window.requestAnimationFrame ||
                window.webkitRequestAnimationFrame ||
                window.mozRequestAnimationFrame ||
                window.oRequestAnimationFrame ||
                window.msRequestAnimationFrame ||
                function (callback) {
                    window.setTimeout(callback, 1000 / 60);
                };
        })(); 

        var x = 0;
            function drawIt() {
                window.requestAnimFrame(drawIt);
                var canvas = document.getElementById('canvas');
                var c = canvas.getContext('2d');
                c.fillStyle = "red";
                c.fillRect(x, 100, 5, 1);
                x += 5;
            }
            window.requestAnimFrame(drawIt); 



        </script> 
    </body> 
</html> 